# Lesson 7: Runes - Xá»­ LÃ½ KÃ½ Tá»± Unicode

## Giá»›i thiá»‡u
Trong Dart, chuá»—i (String) lÃ  má»™t dÃ£y cÃ¡c Ä‘Æ¡n vá»‹ mÃ£ UTF-16 (16-bit code units). Tuy nhiÃªn, má»™t sá»‘ kÃ½ tá»± Ä‘áº·c biá»‡t nhÆ° emoji hoáº·c cÃ¡c biá»ƒu tÆ°á»£ng cá»• Ä‘áº¡i yÃªu cáº§u 32 bit Ä‘á»ƒ biá»ƒu diá»…n. Runes lÃ  cÃ¡ch Dart biá»ƒu diá»…n giÃ¡ trá»‹ Unicode 32-bit (Unicode Code Point) cá»§a má»™t kÃ½ tá»±.

## 1. Unicode Code Point
Unicode Ä‘á»‹nh nghÄ©a má»™t giÃ¡ trá»‹ sá»‘ duy nháº¥t cho má»i chá»¯ cÃ¡i, con sá»‘ vÃ  biá»ƒu tÆ°á»£ng Ä‘Æ°á»£c sá»­ dá»¥ng trong táº¥t cáº£ cÃ¡c há»‡ thá»‘ng viáº¿t trÃªn tháº¿ giá»›i. VÃ¬ String trong Dart lÃ  UTF-16, nÃªn cÃ¡c kÃ½ tá»± náº±m ngoÃ i Basic Multilingual Plane (BMP) sáº½ Ä‘Æ°á»£c biá»ƒu diá»…n bá»Ÿi "surrogate pairs" (cáº·p thay tháº¿).

## 2. CÃ¡ch sá»­ dá»¥ng Runes
Äá»ƒ biá»ƒu diá»…n má»™t code point Unicode, báº¡n sá»­ dá»¥ng cÃº phÃ¡p `\uXXXX` trong Ä‘Ã³ XXXX lÃ  giÃ¡ trá»‹ hex 4 chá»¯ sá»‘. Äá»‘i vá»›i cÃ¡c giÃ¡ trá»‹ nhiá»u hÆ¡n hoáº·c Ã­t hÆ¡n 4 chá»¯ sá»‘ hex, hÃ£y Ä‘áº·t giÃ¡ trá»‹ trong dáº¥u ngoáº·c nhá»n `{}`.

### VÃ­ dá»¥ cÆ¡ báº£n
```dart
void main() {
  var heart = '\u2665';
  var emoji = '\u{1f600}';
  print(heart); // â™¥
  print(emoji); // ğŸ˜€
}
```

## 3. Thuá»™c tÃ­nh runes cá»§a String
Má»—i String cÃ³ thuá»™c tÃ­nh `runes` tráº£ vá» má»™t Iterable chá»©a cÃ¡c code point Unicode cá»§a chuá»—i Ä‘Ã³.

### VÃ­ dá»¥ truy cáº­p runes
```dart
void main() {
  String text = "Láº­p trÃ¬nh Dart ğŸ˜€";
  print(text.length); // 16 (emoji chiáº¿m 2 Ä‘Æ¡n vá»‹ mÃ£ UTF-16)
  print(text.runes.length); // 15 (emoji lÃ  1 code point duy nháº¥t)
  
  text.runes.forEach((int rune) {
    var character = String.fromCharCode(rune);
    print('Code point: $rune - KÃ½ tá»±: $character');
  });
}
```

## 4. Chuyá»ƒn Ä‘á»•i Runes sang String
Báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng constructor `String.fromCharCodes` Ä‘á»ƒ táº¡o chuá»—i tá»« má»™t danh sÃ¡ch cÃ¡c code point.

```dart
void main() {
  var input = [0x1f600, 0x1f601, 0x1f602];
  var text = String.fromCharCodes(input);
  print(text); // ğŸ˜€ğŸ˜ğŸ˜‚
}
```

## 5. Táº¡i sao cáº§n Runes?
- Äáº£m báº£o xá»­ lÃ½ chÃ­nh xÃ¡c cÃ¡c kÃ½ tá»± Ä‘áº·c biá»‡t, emoji.
- TrÃ¡nh viá»‡c cáº¯t ngang má»™t surrogate pair khi thao tÃ¡c vá»›i chuá»—i (nhÆ° substring).
- Há»— trá»£ cÃ¡c ngÃ´n ngá»¯ cÃ³ há»‡ thá»‘ng kÃ½ tá»± phá»©c táº¡p.

## LÆ°u Ã½ quan trá»ng
Trong háº§u háº¿t cÃ¡c trÆ°á»ng há»£p, báº¡n sáº½ sá»­ dá»¥ng `String` thÃ´ng thÆ°á»ng. `Runes` thÆ°á»ng chá»‰ Ä‘Æ°á»£c sá»­ dá»¥ng khi báº¡n cáº§n thao tÃ¡c sÃ¢u á»Ÿ má»©c Ä‘á»™ kÃ½ tá»± Ä‘Æ¡n láº» hoáº·c xá»­ lÃ½ cÃ¡c biá»ƒu tÆ°á»£ng emojis phá»©c táº¡p.

## TÃ i liá»‡u tham kháº£o
1. Dart News - Unicode in Dart: https://medium.com/dartlang/unicode-in-dart-4309995f9c46
2. Dart API Reference - Runes class: https://api.dart.dev/stable/dart-core/Runes-class.html
3. Unicode Character Table: https://unicode-table.com/
